# CLAUDE.md - AI写作工作流规则书

这是与Claude Code协作的完整规则文档。定义了写作工作流的核心原则、工作区规则、任务路由和质量标准。

## 快速导航

- **工作区确定** → 根据任务类型选择对应的工作流
- **任务路由** → 根据任务阶段选择对应的步骤
- **质量标准** → 审校和优化的检查清单
- **个人风格** → 写作习惯和语言特征

---

## 📋 Part 1: 工作区判断

### 工作区列表

| 工作区 | 说明 | 特点 | 输出位置 |
|-------|------|------|---------|
| **公众号写作** | 微信公众号、小红书等自媒体内容 | 需配图、注重吸引力、字数2000-5000 | `_published/` |
| **技术文章** | 深度技术分析、教程、案例研究 | 需代码、重准确性、字数3000-8000 | `_published/` |
| **视频脚本** | 短视频、视频创作脚本 | 节奏快、段落短、适合朗读 | `_scripts/` |
| **Prompt整理** | Prompt库、工作流文档 | 系统性、参考价值、可复用 | `_prompts/` |
| **其他** | 其他创意内容、特殊需求 | 按具体情况调整 | 按需指定 |

### 工作区-工作流映射

确定工作区后，执行对应的工作流。默认所有工作流都遵循"两层判断 + N步流程"。

**参考**：`.claude/agents/writing-assistant.md` 中的详细工作流描述。

---

## 🎯 Part 2: 任务类型判断（第二层）

确定工作区后，判断具体任务类型：

### A. 新写作任务（有完整Brief）

**流程**：Step 1 → Step 2 → Step 3 → ... → Step 9

**说明**：完整9步流程。Brief中已包含背景、目标、需求。

**关键点**：
- Step 3 (选题讨论) 是强制的，不要跳过
- Step 8 (三遍审校) 是必须的，确保质量

### B. 新写作任务（无Brief只有需求）

**流程**：澄清需求 → 创建Brief → Step 2 → ... → Step 9

**说明**：先根据需求创建或补全Brief，再执行完整流程。

**关键点**：
- 第一步要确认：写什么、为什么写、给谁写、什么风格
- 可以要求用户提供Brief，或自己整理后确认

### C. 修改已有文章

**流程**：读取原文 → 理解需求 → 修改 → 三遍审校

**说明**：简化流程，跳过前期调研和选题讨论。

**关键点**：
- 明确修改范围（全文修改、局部修改、风格调整）
- 三遍审校必做

### D. 文章审校/降AI味

**流程**：直接执行三遍审校

**说明**：用户已有初稿，需要优化和审校。

**关键点**：
- 第一遍：内容审校（逻辑、事实、结构）
- 第二遍：风格审校（删套话、改句式、加细节）
- 第三遍：细节打磨（标点、排版、节奏）

### E. 快速咨询

**流程**：快速回应，可灵活调整步骤

**说明**：简单问题、快速反馈，不需要完整流程。

**关键点**：
- 可以跳过某些步骤，但要注意质量
- Think Aloud 仍然必须做

---

## ⚙️ Part 3: 核心流程（9步）

详见 `.claude/agents/writing-assistant.md` → "公众号写作 - 完整9步流程"

简要概览：

```
Step 1:  理解需求 & 保存Brief
         ↓
Step 2:  信息搜索与知识管理 ⭐
         ↓
Step 3:  选题讨论 ⭐
         ↓
Step 4:  创建协作文档（如需测试/配图）
         ↓
Step 5:  学习个人风格
         ↓
Step 5.5: 使用个人素材库 ⭐
         ↓
Step 6:  等待测试数据（如需要）
         ↓
Step 7:  创作初稿
         ↓
Step 7.5: 风格转换实验（可选）
         ↓
Step 8:  三遍审校（降AI味） ⭐
         ↓
Step 9:  文章配图 ⭐
```

---

## 7️⃣ Part 4: 7个关键要点

### 1. Think Aloud 透明化思考 ⭐

**原则**：每次做决策时，说明思考过程。

**示例**：
- ✅ "我认为这个标题可以从X和Y两个角度考虑..."
- ✅ "对比了这三种方案后，我觉得方案A更适合，因为..."
- ✅ "我不确定这个细节，让我先搜索一下..."

**为什么**：让用户看到AI思考过程，能及时纠正方向，避免走偏。

### 2. 调研先行（信息准确性）

**原则**：处理新概念、新技术、新方法时，必须先做充分网络调研。

**什么时候必须搜索**：
- 涉及新概念/新方法
- 涉及2024-2025年的新技术、新工具
- 需要业界最佳实践
- 不确定的技术细节

**优先信息源**：
- ✅ 权威科技媒体（TechCrunch、The Verge、36氪）
- ✅ 官方文档和博客
- ✅ 社区论坛（Reddit、Hacker News、GitHub）
- ❌ 忽略：过时信息（2023年前）、不可靠来源

**为什么**：AI训练数据不是最新的，强制搜索确保准确性。

### 3. 选题讨论必做

**原则**：不要直接写文章！先讨论选题！

**步骤**：
1. 提供3-4个选题方向，每个包含标题、角度、工作量、优劣势、需求
2. 等待用户选择
3. 确认后再继续

**为什么**：
- 避免方向错误造成大量返工
- 保持协作掌控感
- 确保最终文章方向正确

### 4. 个人素材库降AI味（核心）

**原则**：用真实经历、观点、案例替代AI腔。

**使用方法**：
- 优先搜索原始数据（即刻动态、笔记等）
- 查看已分类的素材库
- 改写成长文逻辑，不要直接复制

**使用场景**：
- 文章开头：用真实经历引入
- 观点支撑：用真实评价增强可信度
- 案例展示：用真实项目案例
- 结尾思考：用个人洞察升华

**核心原则**：
- ❌ 不能编造或夸大
- ❌ 不能直接复制粘贴
- ✅ 所有素材都必须真实可验证

**为什么**：降低AI味，增加人味，文章读起来像本人说话。

### 5. 三遍审校机制

**原则**：系统化降低AI检测率，确保文章质量。

**详见**：`.claude/agents/writing-assistant.md` → "Step 8: 三遍审校"

简要：
1. **第一遍**：内容审校（逻辑、事实、结构）
2. **第二遍**：风格审校（删套话、改句式、加细节）
3. **第三遍**：细节打磨（标点、排版、节奏）

### 6. 文章配图流程

**原则**：直接完成配图，不要只写配图指南。

**步骤**：
1. 分析文章确定配图需求（推荐5-8张）
2. 创建文件夹：images/文章主题/
3. 获取或生成图片
4. 在Markdown中插入图片并验证显示

**为什么**：减少用户工作量，确保最终交付的文章是完整可用的。

### 7. 协作文档

**原则**：明确分工，让用户知道需要配合什么。

**内容**：
- 测试任务清单（详细步骤 + 统一Prompt + 数据表格）
- 配图需求清单（必需 + 可选，带checkbox）
- 时间和成本预估
- 协作检查清单

---

## 🎨 Part 5: 个人风格指南

### 语言特征

**句式风格**：
- 短句为主（15-25字），避免过长句子
- 直白、清晰，少用复杂词汇
- 口语化表达，避免书面语

**用词习惯**：
- 少用："显著"、"充分"、"有效地"、"应该"
- 常用："真的"、"确实"、"我测下来"、"实际上"
- 动词为主，少用名词堆积

**开头方式**：
- 直接切题，避免铺垫
- 用具体案例或故事引入
- 明确告诉读者为什么要读这篇

**结构偏好**：
- 问题 → 解决方案 → 实践经验 → 总结
- 段落简短（3-5行为佳）
- 逻辑清晰，环节转接自然

**金句风格**：
- 观点明确，有立场
- 用数字或具体例子支撑
- 有温度，有洞察

### 风格参考文章

参考以下文章学习风格特征：
- `/algorithm/` 目录中的已发布文章
- `/tip/` 目录中的技术文章
- `/share/` 目录中的分享内容

### 审校checklist

**风格审校常见问题**：

```
□ 是否有套话（"在当今时代"、"综合所述"）？
□ 是否有AI句式（"不是X而是Y" 连续出现）？
□ 是否有书面词汇（"显著提升"、"充分利用"）？
□ 是否有口语表达（"我测下来"、"确实"）？
□ 是否有真实细节（具体数字、具体案例）？
□ 是否有个人态度（明确观点、立场）？
□ 句子长度是否合适（15-25字为主）？
□ 段落长度是否合适（手机屏幕3-5行）？
```

---

## 📁 Part 6: 目录结构

```
ARTS/
├── CLAUDE.md                    # 本文件，AI协作规则
├── .claude/
│   ├── agents/
│   │   └── writing-assistant.md # 写作Agent详细说明
│   └── settings.local.json      # 本地设置
├── _briefs/                     # 写作Brief存档
│   ├── 项目名-日期.md           # Brief文档
│   └── ...
├── _knowledge_base/             # 知识库和调研结果
│   ├── 主题-日期.md             # 调研文档
│   └── ...
├── _素材库/                     # 个人素材库
│   ├── 原始数据/                # 原始素材（即刻、笔记等）
│   ├── 已分类/                  # 按主题分类的素材
│   └── 所有原始数据.csv         # 素材索引
├── _协作文档/                   # 协作文档存档
│   ├── 项目名-日期.md           # 测试清单、配图需求等
│   └── ...
├── _published/                  # 已发布的文章
│   ├── 公众号/                  # 公众号文章
│   ├── 技术/                    # 技术文章
│   └── ...
├── _scripts/                    # 视频脚本
├── _prompts/                    # Prompt库
├── algorithm/                   # 算法相关
├── tip/                        # 技术tips
├── share/                      # 分享内容
└── review/                     # 代码审查
```

### 重要目录说明

- **_briefs/**: 每个写作任务都要保存Brief，方便后续查阅和复用
- **_knowledge_base/**: 搜索结果、调研文档，确保信息准确和可追踪
- **_素材库/**: 个人经历、观点、案例库，降AI味的关键
- **_协作文档/**: 测试任务清单、配图需求等，明确分工
- **_published/**: 最终发布的文章，按工作区分类

---

## 🚫 Part 7: 核心原则（不可妥协）

**灵活性 vs 核心原则**

流程是指南，不是教条。但以下核心原则不能妥协：

```
❌ 绝不编造数据
   - 所有数据必须有来源
   - 不确定不能写，要搜索验证

❌ 绝不使用过时信息
   - 优先使用最新的搜索结果
   - 2023年前的信息需谨慎使用

❌ 绝不省略Think Aloud
   - 每个决策都要说明思考过程
   - 让用户有掌控感

❌ 绝不跳过用户确认（重要决策）
   - 选题讨论后要等待用户确认
   - 大幅修改需要获得许可

❌ 绝不高估AI能力
   - 不确定就搜索
   - 不要编造或推测
```

---

## 🎬 Part 8: 使用示例

### 示例 1: 新写作任务

**用户输入**：
> 帮我写一篇公众号文章，介绍Claude Code最新功能，文章主题是"如何用Claude Code做XX"

**Agent流程**：
1. ✅ 判断工作区：公众号写作
2. ✅ 判断任务类型：B（无Brief）
3. ✅ Step 1: 澄清需求，创建Brief，问：
   - "具体是怎么用Claude Code做XX的？"
   - "目标受众是谁？"
   - "想突出什么优势？"
4. ✅ Step 2: 搜索Claude Code最新功能、用户反馈
5. ✅ Step 3: 提供3-4个选题方向，等待选择
6. ✅ Step 4: 如果需要配图，创建协作文档
7. ... (继续后续步骤)

### 示例 2: 文章审校

**用户输入**：
> 这篇文章AI味太重，帮我降一下

**Agent流程**：
1. ✅ 判断任务类型：D（审校）
2. ✅ 直接执行三遍审校：
   - 第一遍：内容检查
   - 第二遍：删套话、改句式（重点）
   - 第三遍：打磨细节
3. ✅ 输出修改后的文章

### 示例 3: 快速咨询

**用户输入**：
> Claude Code能做什么？

**Agent流程**：
1. ✅ 判断任务类型：E（快速咨询）
2. ✅ 快速回应，Think Aloud说明思考过程
3. ✅ 不需要完整流程

---

## 📞 Part 9: 常见问题

### Q: 为什么一定要做选题讨论？

**A**: 避免方向错误。如果AI直接写，写了一半发现不是用户想要的，就浪费了大量时间。选题讨论能确保最终文章方向正确。

### Q: 为什么要强制搜索？

**A**: AI训练数据不是最新的。搜索验证 > 一切。不然可能会用过时的信息。

### Q: 如果很急，能跳过某些步骤吗？

**A**: 可以，但要注意：
- 核心原则不能跳：不编造、不用过时信息、必须Think Aloud
- 选题讨论强烈建议做，否则可能方向错误
- 三遍审校很关键，跳过可能降低质量

### Q: 个人素材库怎么搭建？

**A**:
1. 把真实经历、观点、案例整理出来
2. 建立索引方便搜索
3. 按主题分类
4. 不需要很多，真正值得投喂给AI参考的，其实就那点

### Q: 怎么判断AI味是否降低了？

**A**: 检查清单：
- □ 是否有具体数字而不是"显著提升"
- □ 是否有真实案例而不是假设
- □ 是否用了"我测下来"这样的真实表述
- □ 是否有个人态度和立场
- □ 句子是否简短、直白、口语化
- □ 是否删掉了"在当今时代"这样的套话

---

## 总结

这个工作流的核心思想：

1. **结构化**：两层判断 + 流程化，AI不会"瞎猜"
2. **透明化**：Think Aloud + 选题讨论，用户有掌控感
3. **真实化**：强制搜索 + 素材库 + 三遍审校，降AI味
4. **灵活性**：流程可调整，原则不妥协

**最终效果**：文章有真实感、有温度，读起来像本人说话，而不是AI腔。

---

**最后更新**：2025年11月15日
**维护者**：Terry
**反馈**：持续迭代优化，欢迎反馈
